{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createMarkup = arr => {\n  return arr\n    .map(imgDetails => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = imgDetails;\n      return `<li class=\"item\">\n\t\t\t\t\t<a class=\"item-link\" href=\"${largeImageURL}\"><img class=\"item-img\" src=\"${webformatURL}\" alt=\"\" title=\"${tags}\" /></a>\n\t\t\t\t\t<ul class=\"item-desc\">\n\t\t\t\t\t\t\t<li>Likes\n\t\t\t\t\t\t\t\t<p>${likes}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Views\n\t\t\t\t\t\t\t\t<p>${views}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Comments\n\t\t\t\t\t\t\t\t<p>${comments}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Downloads\n\t\t\t\t\t\t\t\t<p>${downloads}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>`;\n    })\n    .join('');\n};\n","export const fetchByUserKey = userKey => {\n  const searchParams = new URLSearchParams({\n    key: '45511756-f868b950a5b29611a8f235e23',\n    q: `${userKey.trim()}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`);\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createMarkup } from './js/render-functions';\nimport { fetchByUserKey } from './js/pixabay-api';\n\nconst formEL = document.querySelector('.search-form');\nconst galleryEL = document.querySelector('.gallery');\nconst galleryModal = new SimpleLightbox('.gallery a');\n\nconst onFormElSubmit = event => {\n  event.preventDefault();\n  const userKeyword = event.target.elements.user_keyword.value;\n  if (userKeyword.trim() === '') {\n    return;\n  }\n  galleryEL.innerHTML = '';\n\n  const loaderEl = document.createElement('p');\n  loaderEl.classList.add('loader');\n  formEL.after(loaderEl);\n\n  fetchByUserKey(userKeyword)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      galleryEL.innerHTML = createMarkup(data.hits);\n      galleryModal.refresh();\n    })\n    .catch(err => console.log(err))\n    .finally(() => {\n      loaderEl.remove();\n    });\n  formEL.reset();\n};\n\nformEL.addEventListener('submit', onFormElSubmit);\n"],"names":["createMarkup","arr","imgDetails","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchByUserKey","userKey","searchParams","formEL","galleryEL","galleryModal","SimpleLightbox","onFormElSubmit","event","userKeyword","loaderEl","response","data","iziToast","err"],"mappings":"6vBAAO,MAAMA,EAAeC,GACnBA,EACJ,IAAIC,GAAc,CACjB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,kCACqBE,CAAa,gCAAgCD,CAAY,mBAAmBE,CAAI;AAAA;AAAA;AAAA,aAGrGC,CAAK;AAAA;AAAA;AAAA,aAGLC,CAAK;AAAA;AAAA;AAAA,aAGLC,CAAQ;AAAA;AAAA;AAAA,aAGRC,CAAS;AAAA;AAAA;AAAA,UAItB,CAAK,EACA,KAAK,EAAE,EC9BCC,EAAiBC,GAAW,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,EAAQ,KAAM,CAAA,GACpB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,CACzD,ECHMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAe,IAAIC,EAAe,YAAY,EAE9CC,EAAiBC,GAAS,CAC9BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,aAAa,MACvD,GAAIC,EAAY,KAAM,IAAK,GACzB,OAEFL,EAAU,UAAY,GAEtB,MAAMM,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,UAAU,IAAI,QAAQ,EAC/BP,EAAO,MAAMO,CAAQ,EAErBV,EAAeS,CAAW,EACvB,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDT,EAAU,UAAYd,EAAasB,EAAK,IAAI,EAC5CP,EAAa,QAAO,CAC1B,CAAK,EACA,MAAMS,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAM,CACbJ,EAAS,OAAM,CACrB,CAAK,EACHP,EAAO,MAAK,CACd,EAEAA,EAAO,iBAAiB,SAAUI,CAAc"}